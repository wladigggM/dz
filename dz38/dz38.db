DROP TABLE IF EXISTS games;
DROP TABLE IF EXISTS players;

CREATE TABLE IF NOT EXISTS players(
	id INTEGER PRIMARY KEY AUTOINCREMENT,
	name TEXT NOT NULL,
	best_score INTEGER NOT NULL);
	
CREATE TABLE IF NOT EXISTS games(
	id INTEGER PRIMARY KEY AUTOINCREMENT,
	name TEXT NOT NULL,
	score INTEGER NOT NULL,
	id_player INTEGER NOT NULL,
	FOREIGN KEY (id_player) REFERENCES players (id));

INSERT INTO players (name, best_score) VALUES 
	('Миша',200),
	('Ваня',154),
	('Дима',178),
	('Коля',210);
	
INSERT INTO games (name, score, id_player) VALUES 
	('Миша',110,1),
	('Миша',200,1),
	('Дима',178,3),
	('Коля',10,4),
	('Коля',30,4),
	('Коля',40,4),
	('Ваня',154,2),
	('Коля',210,4);

	-- ПОКАЗЫВАЕТ ИГРОКА И КОЛ-ВО СЫГРАНЫХ ИГР --
		
-- SELECT name, count(id) FROM games WHERE name = 'Миша'
-- SELECT name, count(id) FROM games WHERE name = 'Ваня'
-- SELECT name, count(id) FROM games WHERE name = 'Дима'
-- SELECT name, count(id) FROM games WHERE name = 'Коля'

	-- ПОКАЗЫВАЕТ ИГРОКОВ И ИХ ИТОГОВЫЙ СЧЕТ ЗА ВСЕ СЫГРАННЫЕ ИГРЫ --
	
-- SELECT name, sum(score) FROM games WHERE name = 'Миша'
-- SELECT name, sum(score) FROM games WHERE name = 'Ваня'
-- SELECT name, sum(score) FROM games WHERE name = 'Дима'
-- SELECT name, sum(score) FROM games WHERE name = 'Коля'

	-- ПОКАЗЫВАЕТ ОБЩЕЕ КОЛ-ВО ИГР --
	
-- SELECT count(id) FROM games

	-- ПОКАЗЫВАЕТ ХУДШИЙ РЕЗУЛЬТАТ У КАЖДОГО ИГРОКА --
	
-- SELECT name, min(score) FROM games WHERE name = 'Миша'
-- SELECT name, min(score) FROM games WHERE name = 'Ваня'
-- SELECT name, min(score) FROM games WHERE name = 'Дима'
-- SELECT name, min(score) FROM games WHERE name = 'Коля'
